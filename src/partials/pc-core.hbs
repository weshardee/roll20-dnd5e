<div class="grid grid--pad">

    <div class="grid__cell grid__cell--1-2">
        <section>
            <h1 class="hdg">Core Stats</h1>
            <ol class="grid grid--sub">
                <li class="grid__cell">
                    <div class="label label--tall">&nbsp;</div>
                </li>
                <li class="grid__cell">
                    <div class="label label--tall">Score</div>
                </li>
                <li class="grid__cell">
                    <div class="label label--tall">Mod</div>
                </li>
                <li class="grid__cell">
                    <div class="label label--tall">Save Prof?</div>
                </li>
                <li class="grid__cell">
                    <div class="label label--tall">Save Bonus</div>
                </li>
                <li class="grid__cell">
                    <div class="label label--tall">Save</div>
                </li>
            </ol>

            {{#each stats}}
            <div class="grid grid--split">
                <div class="grid__cell grid__cell--1-6">
                    <div class="label label--core-stat">{{abbr}}</div>
                </div>
                <div class="grid__cell grid__cell--1-6">
                    <input class="field field--naked" type="number" id="attr_{{name}}" name="attr_{{name}}" min="1" step="1">
                </div>
                <div class="grid__cell grid__cell--1-6">
                    <input class="field field--naked" type="number" id="attr_{{name}}_mod" name="attr_{{name}}_mod" value="(floor((@\{{{name}}\}-10)/2))" disabled>
                </div>
                <div class="grid__cell grid__cell--1-6">
                    <input class="field field--naked" type="checkbox" id="attr_{{name}}_save_prof" name="attr_{{name}}_save_prof" value="@{PB}" >
                </div>
                <div class="grid__cell grid__cell--1-6">
                    <input class="field field--naked" type="number" id="attr_{{name}}_save_mod" name="attr_{{name}}_save_mod" value="@\{{{name}}_mod} + @\{{{name}}_save_prof}" disabled="disabled">
                </div>
                <div class="grid__cell grid__cell--1-6">
                    <button type="roll" class="roll" id="roll_Strength_Save" name="roll_Strength_Save" value="/em attempts a saving throw\n\n{{abbr}} save :[[1d20 + @\{{{name}}_save_mod} [Stat Mod and Proficiency] + (@{global_saving_bonus}) [Active Save Bonus] ]] | [[1d20 + @{ {{name}}_save_mod } [Stat Mod and Proficiency] + (@{global_saving_bonus}) [Active Save Bonus] ]]">Save</button>
                </div>
            </div>
            {{/each}}
        </section>

    </div>

    <div class="grid__cell grid__cell--1-2">

        <h1 class="hdg">Hit Points <i class="sheet-pictos">k</i> and Speed <i class="sheet-pictos">1</i></h1>

        <div class="grid sheet-padb">
            <div class="grid__cell grid__cell--1-2 sheet-padr sheet-border-right">
                <div class="grid">
                    <div class="grid__cell grid__cell--1-2 label sheet-center">
                        <input class="sheet-underlined" type="number" id="attr_HP" name="attr_HP" step="1">
                        <label class="label">Current</label>
                    </div>
                    <div class="grid__cell grid__cell--1-2 label sheet-center">
                        <input class="sheet-underlined" type="number" id="attr_HP_max" name="attr_HP_max" min="1" step="1">
                        <label class="label">Max</label>
                    </div>

                </div>

            </div>

            <div class="grid__cell grid__cell--1-4 sheet-padl sheet-padr sheet-border-right label sheet-center">
                <input class="sheet-underlined" type="number" id="attr_temp_HP" name="attr_temp_HP" value="0" min="0" step="1" >
                <label class="label">Temp HP</label>
            </div>
            <div class="grid__cell grid__cell--1-4 sheet-padl label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_speed" name="attr_speed" >
                <label class="label">Speed</label>
            </div>

        </div>

        <div class="grid">

            <div class="grid__cell grid__cell--1-2">
                <h1 class="hdg">Initiative <i class="sheet-pictos">t</i></h1>
                <div class="grid sheet-padr">
                    <div class="grid__cell grid__cell--1-3 label sheet-center" title="Only enter additional bonuses to initiative here. Your Dex mod is already included in the macro button">
                        <input class="sheet-underlined sheet-center" type="number" id="attr_initiative" name="attr_initiative" value="0" step="1">
                        <label class="label">Bonus</label>
                    </div>
                    <div class="grid__cell grid__cell--1-3 label sheet-center">
                        <input class="sheet-underlined" type="number" id="attr_initiative_overall" name="attr_initiative_overall" value="@{dexterity_mod} + @{initiative}" disabled="disabled">
                        <label class="label">Total</label>
                    </div>
                    <div class="grid__cell grid__cell--1-3 sheet-center">
                        <button type="roll" class="sheet-initiative sheet-large-button" id="roll_Initiative" name="roll_Initiative" value="@{selected|token_name} rolls a [[1d20 + @{selected|initiative_overall} [Initiative Mod] &{tracker}]] for initiative!">Initiative</button>

                    </div>

                </div>

            </div>

            <div class="grid__cell grid__cell--1-2 sheet-padl">
                <h1 class="hdg">Armour Class <span class="sheet-pictos-three">b</span></h1>

                <div class="grid sheet-padb">
                    <div class="grid__cell grid__cell--1-2 label sheet-center">
                        <input class="sheet-underlined" type="number" id="attr_AC" name="attr_AC" value="@{AC_calc}" disabled="disabled" >
                        <label class="label">AC (worn armour)</label>
                    </div>
                    <div class="grid__cell grid__cell--1-2 label sheet-center">
                        <input class="sheet-underlined" type="number" id="attr_AC_no_armour" name="attr_AC_no_armour" value="@{AC_no_armour_calc}" disabled="disabled">
                        <label class="label">AC (no armour)</label>
                    </div>

                </div>

            </div>


        </div>

        <h1 class="hdg">Level and Experience<span class="sheet-pictos-three">d</span></h1>
        <div class="grid">
            <div class="grid__cell grid__cell--1-4 label sheet-center" title="This is automatically calculated from your individual class levels listed in the class section">
                <input class="sheet-underlined" type="number" id="attr_level" name="attr_level" value="@{barbarian_level} + @{bard_level} + @{cleric_level} + @{druid_level} + @{fighter_level} + @{monk_level} + @{paladin_level} + @{ranger_level} + @{rogue_level} + @{sorcerer_level} + @{warlock_level} + @{wizard_level}" disabled="disabled">
                <label class="label">Overall Level</label>
            </div>
            <div class="grid__cell grid__cell--1-4 label sheet-center" title="This is a bonus for you being proficient in a given task.  This bonus automatically increases as you level up and is used automatically in various rolls">
                <input class="sheet-underlined" type="number" id="attr_PB" name="attr_PB" value="(ceil((@{level})/1e10) + ceil((@{level})/4))" disabled="disabled"  >
                <label class="label">Prof Bonus</label>
            </div>
            <div class="grid__cell grid__cell--1-4 label sheet-center">
                <input class="sheet-underlined" type="number" id="attr_xp" name="attr_xp" min="0" step="1">
                <label class="label">Current XP</label>
            </div>
            <div class="grid__cell grid__cell--1-4 label sheet-center">
                <input class="sheet-underlined" type="number" id="attr_xp_next_level" name="attr_xp_next_level" min="0" step="1">
                <label class="label">XP for next level</label>
            </div>

        </div>


    </div>


</div>


<div class="grid">

    <div class="grid__cell grid__cell--5-12 sheet-padr">

        <h1 class="hdg">Bonuses/Penalties <i class="sheet-pictos">3</i></h1>

        <p class="sheet-small-note">Use this to apply bonuses (or penalties) to all rolls of the specified type rolled using the sheet's macros.</p>

        <div class="grid">
            <div class="grid__cell grid__cell--6-13 sheet-center label sheet-sub-header">Melee
            </div>
            <div class="grid__cell grid__cell--1-13">&nbsp;
            </div>
            <div class="grid__cell grid__cell--6-13 sheet-center label sheet-sub-header">Ranged
            </div>

        </div>

        <div class="grid">
            <div class="grid__cell grid__cell--3-13 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_melee_attack_bonus" name="attr_global_melee_attack_bonus" value="0">
                <label class="label">Attack Rolls</label>
            </div>
            <div class="grid__cell grid__cell--3-13 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_melee_damage_bonus" name="attr_global_melee_damage_bonus" value="0">
                <label class="label">Damage Rolls</label>
            </div>
            <div class="grid__cell grid__cell--1-13">&nbsp;
            </div>
            <div class="grid__cell grid__cell--3-13 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_ranged_attack_bonus" name="attr_global_ranged_attack_bonus" value="0">
                <label class="label">Attack Rolls</label>
            </div>
            <div class="grid__cell grid__cell--3-13 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_ranged_damage_bonus" name="attr_global_ranged_damage_bonus" value="0">
                <label class="label">Damage Rolls</label>
            </div>

        </div>

        <div class="grid">
            <div class="grid__cell grid__cell--1 sheet-center label sheet-sub-header">Spellcasting
            </div>

        </div>

        <div class="grid">
            <div class="grid__cell grid__cell--1-3 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_spell_attack_bonus" name="attr_global_spell_attack_bonus" value="0">
                <label class="label">Attack Rolls</label>
            </div>
            <div class="grid__cell grid__cell--1-3 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_spell_damage_bonus" name="attr_global_spell_damage_bonus" value="0">
                <label class="label">Damage Rolls</label>
            </div>
            <div class="grid__cell grid__cell--1-3 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_spell_dc_bonus" name="attr_global_spell_dc_bonus" value="0" step="1">
                <label class="label">Save DC</label>
            </div>

        </div>

        <div class="grid">
            <div class="grid__cell grid__cell--1 sheet-center label sheet-sub-header">Saves and skill checks
            </div>
 <label class="label">Ability/Skill Checks</label>      <div class="grid">
            <div class="grid__cell grid__cell--1-2 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_saving_bonus" name="attr_global_saving_bonus" value="0">
                <label class="label">Saving thows</label>
            </div>
            <div class="grid__cell grid__cell--1-2 label sheet-center">
                <input class="sheet-underlined sheet-center" type="text" id="attr_global_check_bonus" name="attr_global_check_bonus" value="0">
                Ability/Skill Checks
            </div>

        </div>


    </div>

    <div class="grid__cell grid__cell--7-12">

        <h1 class="hdg">Hit Dice <span class="sheet-d6-font">E</span></h1>
        <div class="grid sheet-sub-header">
            <div class="grid__cell grid__cell--3-7 sheet-center label">Classes
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center label">Hit Die
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center label">Current
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center label">Max
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center label">&nbsp;
            </div>

        </div>

        <div class="grid">
            <div class="grid__cell grid__cell--3-7 sheet-hd-row">Sorcerer, Wizard
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center sheet-hd-row">d6
            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d6" name="attr_hd_d6" value="0" min="0" step="1">

            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d6_max" name="attr_hd_d6_max" value="@{sorcerer_level} + @{wizard_level} " disabled="disabled">

            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center">
                <button type="roll" class="sheet-roll" id="roll_Use_HD_d6" name="roll_Use_HD_d6" value="/em takes a rest\n\n[[1d6 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d6 hit dice used)">Use</button>

            </div>

        </div>
        <div class="grid">
            <div class="grid__cell grid__cell--3-7 sheet-hd-row">Bard, Cleric, Druid, Rogue, Monk, Warlock
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center sheet-hd-row">d8
            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d8" name="attr_hd_d8" value="0" min="0" step="1">

            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d8_max" name="attr_hd_d8_max" value="@{bard_level} + @{cleric_level} + @{druid_level} + @{rogue_level} + @{monk_level} + @{warlock_level}" disabled="disabled">

            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center">
                <button type="roll" class="sheet-roll" id="roll_Use_HD_d8" name="roll_Use_HD_d8" value="/em takes a rest\n\n[[1d8 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d8 hit dice used)">Use</button>

            </div>

        </div>
        <div class="grid">
            <div class="grid__cell grid__cell--3-7 sheet-hd-row">Fighter, Paladin, Ranger
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center sheet-hd-row">d10
            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d10" name="attr_hd_d10" value="0" min="0" step="1">

            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d10_max" name="attr_hd_d10_max" value="@{fighter_level} + @{paladin_level} + @{ranger_level}" disabled="disabled">

            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center">
                <button type="roll" class="sheet-roll" id="roll_Use_HD_d10" name="roll_Use_HD_d10" value="/em takes a rest\n\n[[1d10 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d10 hit dice used)">Use</button>

            </div>

        </div>
        <div class="grid">
            <div class="grid__cell grid__cell--3-7 sheet-hd-row">Barbarian
            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center sheet-hd-row">d12
            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d12" name="attr_hd_d12" value="0" min="0" step="1">

            </div>
            <div class="grid__cell grid__cell--1-7">
                <input class="field" type="number" id="attr_hd_d12_max" name="attr_hd_d12_max" value="@{barbarian_level}" disabled="disabled">

            </div>
            <div class="grid__cell grid__cell--1-7 sheet-center">
                <button type="roll" class="sheet-roll" id="roll_Use_HD_d12" name="roll_Use_HD_d12" value="/em takes a rest\n\n[[1d12 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d12 hit dice used)">Use</button>

            </div>

        </div>

        <h1 class="hdg">Other <i class="sheet-pictos">o</i></h1>

        <div class="grid">
            <div class="grid__cell grid__cell--1-5 sheet-center label sheet-sub-header sheet-padr">Inspiration?
            </div>
            <div class="grid__cell grid__cell--4-5 sheet-center label sheet-sub-header sheet-padl">Death Saving Throws
            </div>

        </div>

        <div class="grid">

            <div class="grid__cell grid__cell--1-5 sheet-padr sheet-center sheet-margin-top">

                <input class="sheet-inspiration" type="checkbox" id="attr_inspiration" name="attr_inspiration" value="1"><span class="sheet-inspiration-tab"></span>


            </div>

            <div class="grid__cell grid__cell--3-5 sheet-padl">

                <div class="grid">
                    <div class="grid__cell grid__cell--1-4 sheet-margin-top label">Successes :
                    </div>
                    <div class="grid__cell grid__cell--3-4 sheet-center">
                        <input class="sheet-death-save-success" type="checkbox" id="attr_death_save_success_1" name="attr_death_save_success_1" value="1"><span class="sheet-death-save-success-tab"></span>
                        <input class="sheet-death-save-success" type="checkbox" id="attr_death_save_success_2" name="attr_death_save_success_2" value="1"><span class="sheet-death-save-success-tab"></span>
                        <input class="sheet-death-save-success" type="checkbox" id="attr_death_save_success_3" name="attr_death_save_success_3" value="1"><span class="sheet-death-save-success-tab"></span>

                    </div>

                </div>


                <div class="grid">
                    <div class="grid__cell grid__cell--1-4 sheet-margin-top label">Failures :
                    </div>
                    <div class="grid__cell grid__cell--3-4 sheet-center">
                        <input class="sheet-death-save-fail" type="checkbox" id="attr_death_save_fail_1" name="attr_death_save_fail_1" value="1"><span class="sheet-death-save-fail-tab"></span>
                        <input class="sheet-death-save-fail" type="checkbox" id="attr_death_save_fail_2" name="attr_death_save_fail_2" value="1"><span class="sheet-death-save-fail-tab"></span>
                        <input class="sheet-death-save-fail" type="checkbox" id="attr_death_save_fail_3" name="attr_death_save_fail_3" value="1"><span class="sheet-death-save-fail-tab"></span>

                    </div>

                </div>


            </div>

            <div class="grid__cell grid__cell--1-5 sheet-margin-top">

                <div class="grid">
                    <div class="grid__cell grid__cell--1 sheet-center">
                        <button type="roll" class="sheet-roll" id="roll_Death_Saving_Throw" name="roll_Death_Saving_Throw" value="/em makes a DEATH saving throw\n\nDEATH save :  [[1d20 + (@{global_saving_bonus}) [Active Save Bonus] ]]">Death Saving Throw</button>

                    </div>

                </div>




            </div>


        </div>


    </div>

</div>
