<div class="grid grid--pad grid--col">
    <div class="grid__cell">
        <!-- top section -->

        <div class="grid grid--pad">

            <div class="grid__cell grid__cell--1-2">
                <h1 class="hdg">Core Stats</h1>
                <ol class="grid grid--sub">
                    <li class="grid__cell">
                        &nbsp;
                    </li>
                    <li class="grid__cell">
                        Score
                    </li>
                    <li class="grid__cell">
                        Mod
                    </li>
                    <li class="grid__cell">
                        Save Prof?
                    </li>
                    <li class="grid__cell">
                        Save Bonus
                    </li>
                    <li class="grid__cell">
                        Save
                    </li>
                </ol>

                {{#each stats}}
                <div class="grid grid--split">
                    <div class="grid__cell grid__cell--1-6">
                        <div class="label label--core-stat">{{abbr}}</div>
                    </div>
                    <div class="grid__cell grid__cell--1-6">
                        <input class="field" type="number" id="attr_{{name}}" name="attr_{{name}}" min="1" step="1">
                    </div>
                    <div class="grid__cell grid__cell--1-6">
                        <input class="field" type="number" id="attr_{{name}}_mod" name="attr_{{name}}_mod" value="(floor((@\{{{name}}\}-10)/2))" disabled>
                    </div>
                    <div class="grid__cell grid__cell--1-6">
                        <input class="tick" type="checkbox" id="attr_{{name}}_save_prof" name="attr_{{name}}_save_prof" value="@{PB}" >
                    </div>
                    <div class="grid__cell grid__cell--1-6">
                        <input class="field" type="number" id="attr_{{name}}_save_mod" name="attr_{{name}}_save_mod" value="@\{{{name}}_mod} + @\{{{name}}_save_prof}" disabled="disabled">
                    </div>
                    <div class="grid__cell grid__cell--1-6">
                        <button type="roll" class="roll" id="roll_Strength_Save" name="roll_Strength_Save" value="/em attempts a saving throw\n\n{{abbr}} save :[[1d20 + @\{{{name}}_save_mod} [Stat Mod and Proficiency] + (@{global_saving_bonus}) [Active Save Bonus] ]] | [[1d20 + @{ {{name}}_save_mod } [Stat Mod and Proficiency] + (@{global_saving_bonus}) [Active Save Bonus] ]]">Save</button>
                    </div>
                </div>
                {{/each}}

            </div>

            <div class="grid__cell grid__cell--1-2">

                <div class="grid grid--col grid--pad">
                    <div class="grid__cell">
                        <h1 class="hdg">Hit Points <i class="sheet-pictos">k</i> and Speed <i class="sheet-pictos">1</i></h1>
                        <div class="grid grid--split">
                            <div class="grid__cell">
                                <label class="field">
                                    <span class="field__label">Current</span>
                                    <input class="field__field" type="number" id="attr_HP" name="attr_HP" step="1">
                                </label>
                            </div>
                            <div class="grid__cell">
                                <label class="field">
                                    <span class="field__label">Max</span>
                                    <input class="field__field" type="number" id="attr_HP_max" name="attr_HP_max" min="1" step="1">
                                </label>
                            </div>
                            <div class="grid__cell">
                                <label class="field">
                                    <span class="field__label">Temp HP</span>
                                    <input class="field__field" type="number" id="attr_temp_HP" name="attr_temp_HP" value="0" min="0" step="1" >
                                </label>
                            </div>
                            <div class="grid__cell">
                                <label class="field">
                                    <span class="field__label">Speed</span>
                                    <input class="field__field" type="text" id="attr_speed" name="attr_speed" >
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="grid__cell">
                        <div class="grid grid--pad">
                            <div class="grid__cell">
                                <h1 class="hdg">Initiative <i class="sheet-pictos">t</i></h1>
                                <div class="grid grid--split">
                                    <div class="grid__cell" title="Only enter additional bonuses to initiative here. Your Dex mod is already included in the macro button">
                                        <label class="field">
                                            <span class="field__label">Bonus</span>
                                            <input class="field__field" type="number" id="attr_initiative" name="attr_initiative" value="0" step="1">
                                        </label>
                                    </div>
                                    <div class="grid__cell">
                                        <label class="field field--disabled">
                                            <span class="field__label">Total</span>
                                            <input class="field__field" type="number" id="attr_initiative_overall" name="attr_initiative_overall" value="@{dexterity_mod} + @{initiative}" disabled="disabled">
                                        </label>
                                    </div>
                                    <div class="grid__cell">
                                        <button class="roll" type="roll" class="sheet-initiative sheet-large-button" id="roll_Initiative" name="roll_Initiative" value="@{selected|token_name} rolls a [[1d20 + @{selected|initiative_overall} [Initiative Mod] &{tracker}]] for initiative!">Initiative</button>
                                    </div>
                                </div>
                            </div>

                            <div class="grid__cell">
                                <h1 class="hdg">Armour Class <span class="sheet-pictos-three">b</span></h1>
                                <div class="grid grid--split">
                                    <div class="grid__cell grid__cell--1-2">
                                        <label class="field field--disabled">
                                            <span class="field__label">AC (armour on)</span>
                                            <input class="field__field" type="number" id="attr_AC" name="attr_AC" value="@{AC_calc}" disabled="disabled" >
                                        </label>
                                    </div>
                                    <div class="grid__cell grid__cell--1-2">
                                        <label class="field field--disabled">
                                            <span class="field__label">AC (armour off)</span>
                                            <input class="field__field" type="number" id="attr_AC_no_armour" name="attr_AC_no_armour" value="@{AC_no_armour_calc}" disabled="disabled">
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid__cell">
                        <h1 class="hdg">Level and Experience<span class="sheet-pictos-three">d</span></h1>
                        <div class="grid grid--split">
                            <div class="grid__cell grid__cell--1-4" title="This is automatically calculated from your individual class levels listed in the class section">
                                <label class="field field--disabled">
                                    <span class="field__label">Overall Level</span>
                                    <input class="field__field" type="number" id="attr_level" name="attr_level" value="@{barbarian_level} + @{bard_level} + @{cleric_level} + @{druid_level} + @{fighter_level} + @{monk_level} + @{paladin_level} + @{ranger_level} + @{rogue_level} + @{sorcerer_level} + @{warlock_level} + @{wizard_level}" disabled="disabled">
                                </label>
                            </div>
                            <div class="grid__cell grid__cell--1-4" title="This is a bonus for you being proficient in a given task.  This bonus automatically increases as you level up and is used automatically in various rolls">
                                <label class="field field--disabled">
                                    <span class="field__label">Prof Bonus</span>
                                    <input class="field__field" type="number" id="attr_PB" name="attr_PB" value="(ceil((@{level})/1e10) + ceil((@{level})/4))" disabled="disabled"  >
                                </label>
                            </div>
                            <div class="grid__cell grid__cell--1-4">
                                <label class="field">
                                    <span class="field__label">Current XP</span>
                                    <input class="field__field" type="number" id="attr_xp" name="attr_xp" min="0" step="1">
                                </label>
                            </div>
                            <div class="grid__cell grid__cell--1-4">
                                <label class="field">
                                    <span class="field__label">XP for next level</span>
                                    <input class="field__field" type="number" id="attr_xp_next_level" name="attr_xp_next_level" min="0" step="1">
                                </label>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="grid__cell">
        <!-- bottom section -->
        <div class="grid grid--pad">

            <div class="grid__cell grid__cell--5-12">

                {{> pc-core-bonuses}}

            </div>

            <div class="grid__cell grid__cell--7-12">

                <div class="grid grid--pad grid--col">
                    <div class="grid__cell">
                        <h1 class="hdg">Hit Dice <i class="sheet-d6-font">E</i></h1>

                        <div class="grid grid--sub">
                            <div class="grid__cell grid__cell--3-7">
                                Classes
                            </div>
                            <div class="grid__cell">
                                Hit Die
                            </div>
                            <div class="grid__cell">
                                Current
                            </div>
                            <div class="grid__cell">
                                Max
                            </div>
                            <div class="grid__cell">
                                &nbsp;
                            </div>
                        </div>

                        <div class="grid grid--split">
                            <div class="grid__cell grid__cell--3-7">
                                <div class="label">Sorcerer, Wizard</div>
                            </div>
                            <div class="grid__cell">
                                d6
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d6" name="attr_hd_d6" value="0" min="0" step="1">
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d6_max" name="attr_hd_d6_max" value="@{sorcerer_level} + @{wizard_level} " disabled="disabled">
                            </div>
                            <div class="grid__cell">
                                <button class="roll" type="roll" class="sheet-roll" id="roll_Use_HD_d6" name="roll_Use_HD_d6" value="/em takes a rest\n\n[[1d6 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d6 hit dice used)">Use</button>
                            </div>
                        </div>
                        <div class="grid grid--split">
                            <div class="grid__cell grid__cell--3-7">
                                <div class="label">Bard, Cleric, Druid, Rogue, Monk, Warlock</div>
                            </div>
                            <div class="grid__cell">
                                d8
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d8" name="attr_hd_d8" value="0" min="0" step="1">
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d8_max" name="attr_hd_d8_max" value="@{bard_level} + @{cleric_level} + @{druid_level} + @{rogue_level} + @{monk_level} + @{warlock_level}" disabled="disabled">
                            </div>
                            <div class="grid__cell">
                                <button class="roll" type="roll" class="sheet-roll" id="roll_Use_HD_d8" name="roll_Use_HD_d8" value="/em takes a rest\n\n[[1d8 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d8 hit dice used)">Use</button>
                            </div>

                        </div>
                        <div class="grid grid--split">
                            <div class="grid__cell grid__cell--3-7">
                                <div class="label">Fighter, Paladin, Ranger</div>
                            </div>
                            <div class="grid__cell">
                                d10
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d10" name="attr_hd_d10" value="0" min="0" step="1">
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d10_max" name="attr_hd_d10_max" value="@{fighter_level} + @{paladin_level} + @{ranger_level}" disabled="disabled">
                            </div>
                            <div class="grid__cell">
                                <button class="roll" type="roll" class="sheet-roll" id="roll_Use_HD_d10" name="roll_Use_HD_d10" value="/em takes a rest\n\n[[1d10 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d10 hit dice used)">Use</button>
                            </div>
                        </div>
                        <div class="grid grid--split">
                            <div class="grid__cell grid__cell--3-7">
                                <div class="label">Barbarian</div>
                            </div>
                            <div class="grid__cell">
                                d12
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d12" name="attr_hd_d12" value="0" min="0" step="1">
                            </div>
                            <div class="grid__cell">
                                <input class="field" type="number" id="attr_hd_d12_max" name="attr_hd_d12_max" value="@{barbarian_level}" disabled="disabled">
                            </div>
                            <div class="grid__cell">
                                <button class="roll" type="roll" class="sheet-roll" id="roll_Use_HD_d12" name="roll_Use_HD_d12" value="/em takes a rest\n\n[[1d12 + @{constitution_mod} [Constitution Mod] ]] HP recovered from resting (1d12 hit dice used)">Use</button>
                            </div>
                        </div>
                    </div>

                    <div class="grid__cell">
                        <h1 class="hdg">Other <i class="sheet-pictos">o</i></h1>

                        <div class="grid grid--sub">
                            <div class="grid__cell grid__cell--1-5">
                                Inspiration?
                            </div>
                            <div class="grid__cell grid__cell--4-5">
                                Death Saving Throws
                            </div>
                        </div>

                        <div class="grid">

                            <div class="grid__cell grid__cell--1-5">
                                <input class="toggle" type="checkbox" id="attr_inspiration" name="attr_inspiration" value="1"><span class="sheet-inspiration-tab"></span>
                            </div>

                            <div class="grid__cell grid__cell--3-5">
                                <div class="grid grid--split">
                                    <div class="grid__cell grid__cell--1-3">
                                        <div class="label">Successes:</div>
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_success_1" name="attr_death_save_success_1" value="1">
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_success_2" name="attr_death_save_success_2" value="1">
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_success_3" name="attr_death_save_success_3" value="1">
                                    </div>
                                </div>
                                <div class="grid grid--split">
                                    <div class="grid__cell grid__cell--1-3">
                                        <div class="label">Failures:</div>
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_fail_1" name="attr_death_save_fail_1" value="1">
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_fail_2" name="attr_death_save_fail_2" value="1">
                                    </div>
                                    <div class="grid__cell">
                                        <input class="tick" type="checkbox" id="attr_death_save_fail_3" name="attr_death_save_fail_3" value="1">
                                    </div>
                                </div>
                            </div>

                            <div class="grid__cell grid__cell--1-5">
                                <button class="roll" type="roll" class="sheet-roll" id="roll_Death_Saving_Throw" name="roll_Death_Saving_Throw" value="/em makes a DEATH saving throw\n\nDEATH save :  [[1d20 + (@{global_saving_bonus}) [Active Save Bonus] ]]">Death Saving Throw</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
